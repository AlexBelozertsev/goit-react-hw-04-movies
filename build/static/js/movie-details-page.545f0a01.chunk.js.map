{"version":3,"sources":["services/movieApi.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","views/MovieDetailsPage.js"],"names":["axios","defaults","baseURL","API_KEY","fetchTrending","get","then","response","data","results","fetchMovie","query","fetchMovieById","movieId","fetchCast","cast","fetchReview","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Cast","lazy","Reviews","MovieDetailsPage","state","title","overview","genres","poster_path","release_date","vote_average","handleGoBack","props","location","history","from","routes","moviesPage","a","this","match","params","movieApi","responceMovie","setState","imgUrl","url","path","type","className","onClick","src","alt","slice","map","genre","name","to","pathname","fallback","component","Component"],"mappings":"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","file":"static/js/movie-details-page.545f0a01.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\nconst API_KEY = 'f4fc9e0b9d39be2e572ef6e62fdd383f';\r\n\r\nconst fetchTrending = () => {\r\n  return axios\r\n    .get(\r\n      `/trending/movie/day?api_key=${API_KEY}`,\r\n    )\r\n    .then(response => response.data.results);\r\n};\r\n\r\nconst fetchMovie = (query) => {\r\n  return axios\r\n    .get(\r\n      `/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`,\r\n    )\r\n    .then(response => response.data);\r\n};\r\n\r\nconst fetchMovieById = (movieId) => {\r\n  return axios\r\n    .get(\r\n      `/movie/${movieId}?api_key=${API_KEY}&language=en-US`,\r\n    )\r\n    .then(response => response.data);\r\n};\r\n\r\nconst fetchCast = (movieId) => {\r\n  return axios\r\n    .get(\r\n      `/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`,\r\n    )\r\n    .then(response => response.data.cast);\r\n};\r\nconst fetchReview = (movieId) => {\r\n  return axios\r\n    .get(\r\n      `/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`,\r\n    )\r\n    .then(response => response.data.results);\r\n};\r\n\r\nexport default { fetchTrending, fetchMovie, fetchMovieById, fetchCast, fetchReview };\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { Component, Suspense, lazy } from 'react';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport '../styles/base.scss';\r\nimport movieApi from '../services/movieApi';\r\nimport routes from '../routes';\r\n\r\nconst Cast = lazy(() => import('./Cast' /* webpackChunkName: \"casts-page\" */));\r\nconst Reviews = lazy(() => import('./Reviews' /* webpackChunkName: \"reviews-page\" */));\r\n\r\nclass MovieDetailsPage extends Component {\r\n    state = {\r\n        title: null,\r\n        overview: null,\r\n        genres: null,\r\n        poster_path: null,\r\n        release_date: null,\r\n        vote_average: null,\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const movieId = this.props.match.params.movieId;\r\n        const responceMovie = await movieApi.fetchMovieById(movieId);\r\n        const { title, overview, genres, poster_path, release_date, vote_average } = responceMovie;\r\n        this.setState({ title, overview, genres, poster_path, release_date, vote_average });\r\n    }\r\n\r\n    handleGoBack = () => {\r\n        const { location, history } = this.props;\r\n        if (location.state && location.state.from) {\r\n            return history.push(location.state.from);\r\n        } else (history.push(routes.moviesPage))\r\n    }\r\n\r\n    render() { \r\n        const { title, overview, genres, poster_path, release_date, vote_average } = this.state;\r\n        const imgUrl = `https://image.tmdb.org/t/p/w500${poster_path}`;\r\n        const url = this.props.match.url;\r\n        const path = this.props.match.path;\r\n        return (<>\r\n            <button type='button' className='button' onClick={this.handleGoBack}>Go Back</button>\r\n            <section>\r\n                <div>\r\n                    {poster_path && <img src={imgUrl} alt={title}/>}\r\n                </div>\r\n                <div className='description' >\r\n                    <h1>{title}({release_date && release_date.slice(0, 4)})</h1>\r\n                    <p>User Score: {vote_average}</p>\r\n                    <h3>Overview</h3>\r\n                    <p>{overview}</p>\r\n                    <h4>Genres</h4>\r\n                    {genres && <p>{genres.map(genre=>` ${genre.name}, `)}</p>}\r\n                </div>\r\n            </section>\r\n            <section className='add_section' >\r\n                <h5>Addicional information</h5>\r\n                <div>\r\n                    <Link to={{\r\n                        pathname: `${url}/cast`,\r\n                        state: {\r\n                             ...this.props.location.state\r\n                        }\r\n                    }}>\r\n                        <button type='button' className='button'>Cast</button>\r\n                    </Link>\r\n                    <Link to={{\r\n                        pathname: `${url}/reviews`,\r\n                        state: {\r\n                            ...this.props.location.state\r\n                        }\r\n                    }}>\r\n                        {<button type='button' className='button'>Reviews</button>}\r\n                    </Link>\r\n                </div>\r\n            </section>\r\n            <Suspense fallback={<h2>load</h2>}>\r\n                <Switch>\r\n                <Route path={`${path}/cast`} component={Cast} />\r\n                <Route path={`${path}/reviews`} component={Reviews} />\r\n                </Switch>\r\n            </Suspense>\r\n        </>);\r\n    }\r\n}\r\n \r\nexport default MovieDetailsPage;"],"sourceRoot":""}
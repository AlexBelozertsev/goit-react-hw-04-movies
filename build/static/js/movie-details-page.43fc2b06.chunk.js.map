{"version":3,"sources":["views/MovieDetailsPage.js","services/movieApi.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["Cast","lazy","Reviews","MovieDetailsPage","state","title","overview","genres","poster_path","release_date","vote_average","handleGoBack","props","location","history","from","push","routes","moviesPage","a","movieId","this","match","params","movieApi","fetchMovieById","responceMovie","setState","imgUrl","url","path","type","className","onClick","src","alt","slice","map","genre","name","to","pathname","fallback","component","Component","axios","defaults","baseURL","API_KEY","fetchTrending","get","then","response","data","results","fetchMovie","query","fetchCast","cast","fetchReview","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"static/js/movie-details-page.43fc2b06.chunk.js","sourcesContent":["import React, { Component, Suspense, lazy } from 'react';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport '../styles/base.scss';\r\nimport movieApi from '../services/movieApi';\r\nimport routes from '../routes';\r\n\r\nconst Cast = lazy(() => import('./Cast' /* webpackChunkName: \"casts-page\" */));\r\nconst Reviews = lazy(() => import('./Reviews' /* webpackChunkName: \"reviews-page\" */));\r\n\r\nclass MovieDetailsPage extends Component {\r\n    state = {\r\n        title: null,\r\n        overview: null,\r\n        genres: null,\r\n        poster_path: null,\r\n        release_date: null,\r\n        vote_average: null,\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const movieId = this.props.match.params.movieId;\r\n        const responceMovie = await movieApi.fetchMovieById(movieId);\r\n        const { title, overview, genres, poster_path, release_date, vote_average } = responceMovie;\r\n        this.setState({ title, overview, genres, poster_path, release_date, vote_average });\r\n    }\r\n\r\n    handleGoBack = () => {\r\n        const { location, history } = this.props;\r\n        if (location.state && location.state.from) {\r\n            return history.push(location.state.from);\r\n        } else (history.push(routes.moviesPage))\r\n    }\r\n\r\n    render() { \r\n        const { title, overview, genres, poster_path, release_date, vote_average } = this.state;\r\n        const imgUrl = `https://image.tmdb.org/t/p/w500${poster_path}`;\r\n        const url = this.props.match.url;\r\n        const path = this.props.match.path;\r\n        return (<>\r\n            <button type='button' className='button' onClick={this.handleGoBack}>Go Back</button>\r\n            <section>\r\n                <div>\r\n                    {poster_path && <img src={imgUrl} alt={title}/>}\r\n                </div>\r\n                <div className='description' >\r\n                    <h1>{title}({release_date && release_date.slice(0, 4)})</h1>\r\n                    <p>User Score: {vote_average}</p>\r\n                    <h3>Overview</h3>\r\n                    <p>{overview}</p>\r\n                    <h4>Genres</h4>\r\n                    {genres && <p>{genres.map(genre=>` ${genre.name}, `)}</p>}\r\n                </div>\r\n            </section>\r\n            <section className='add_section' >\r\n                <h5>Addicional information</h5>\r\n                <div>\r\n                    <Link to={{\r\n                        pathname: `${url}/cast`,\r\n                        state: {\r\n                             ...this.props.location.state\r\n                        }\r\n                    }}>\r\n                        <button type='button' className='button'>Cast</button>\r\n                    </Link>\r\n                    <Link to={{\r\n                        pathname: `${url}/reviews`,\r\n                        state: {\r\n                            ...this.props.location.state\r\n                        }\r\n                    }}>\r\n                        {<button type='button' className='button'>Reviews</button>}\r\n                    </Link>\r\n                </div>\r\n            </section>\r\n            <Suspense fallback={<h2>load</h2>}>\r\n                <Switch>\r\n                <Route path={`${path}/cast`} component={Cast} />\r\n                <Route path={`${path}/reviews`} component={Reviews} />\r\n                </Switch>\r\n            </Suspense>\r\n        </>);\r\n    }\r\n}\r\n \r\nexport default MovieDetailsPage;","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\nconst API_KEY = 'f4fc9e0b9d39be2e572ef6e62fdd383f';\r\n\r\nconst fetchTrending = () => {\r\n  return axios\r\n    .get(\r\n      `/trending/movie/day?api_key=${API_KEY}`,\r\n    )\r\n    .then(response => response.data.results);\r\n};\r\n\r\nconst fetchMovie = (query) => {\r\n  return axios\r\n    .get(\r\n      `/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`,\r\n    )\r\n    .then(response => response.data);\r\n};\r\n\r\nconst fetchMovieById = (movieId) => {\r\n  return axios\r\n    .get(\r\n      `/movie/${movieId}?api_key=${API_KEY}&language=en-US`,\r\n    )\r\n    .then(response => response.data);\r\n};\r\n\r\nconst fetchCast = (movieId) => {\r\n  return axios\r\n    .get(\r\n      `/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`,\r\n    )\r\n    .then(response => response.data.cast);\r\n};\r\nconst fetchReview = (movieId) => {\r\n  return axios\r\n    .get(\r\n      `/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`,\r\n    )\r\n    .then(response => response.data.results);\r\n};\r\n\r\nexport default { fetchTrending, fetchMovie, fetchMovieById, fetchCast, fetchReview };\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}